import tkinter as tk
from tkinter import ttk, messagebox
from deep_translator import GoogleTranslator

# Function to translate text
def translate_text():
    try:
        # get input text
        text = input_box.get("1.0", tk.END).strip()
        
        # get target language
        lang = language_var.get()
        
        if not text:
            messagebox.showwarning("Input Error", "Please enter text to translate!")
            return
        
        if not lang:
            messagebox.showwarning("Language Error", "Please select a language!")
            return
        
        # perform translation
        translated = GoogleTranslator(source='auto', target=lang).translate(text)
        
        # clear output box and insert translated text
        output_box.delete("1.0", tk.END)
        output_box.insert(tk.END, translated)
    
    except Exception as e:
        messagebox.showerror("Error", f"Something went wrong: {e}")

# Create main window
root = tk.Tk()
root.title("Translator App")
root.geometry("500x400")

# Input Label and Box
ttk.Label(root, text="Enter Text:").pack(pady=5)
input_box = tk.Text(root, height=5, width=60)
input_box.pack(pady=5)

# Language Dropdown
ttk.Label(root, text="Select Language:").pack(pady=5)

# as google only takes argument as codes like en or hi...
languages = ["en", "hi", "fr", "es", "de", "ta", "te"]  # English, Hindi, French, Spanish, German, Tamil, Telugu

language_var = tk.StringVar()
lang_dropdown = ttk.Combobox(root, textvariable=language_var, values=languages, state="readonly")
lang_dropdown.pack(pady=5)

# Translate Button
translate_button = ttk.Button(root, text="Translate", command=translate_text)
translate_button.pack(pady=10)

# Output Label and Box
ttk.Label(root, text="Translated Text:").pack(pady=5)
output_box = tk.Text(root, height=5, width=60)
output_box.pack(pady=5)

# Run the app
root.mainloop()
